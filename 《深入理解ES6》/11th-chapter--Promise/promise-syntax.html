<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>promise 语法讲解</title>
</head>
<body>

<script>
    // 打印 Promise 可以看出其就是一个 构造函数
    // console.dir(Promise);

    function runAsync() {
        // resolve 是将 Promise 的状态设置为 fulfilled, reject 是将 Promise 的状态设置为 rejected.
        return new Promise(function (resolve, reject) {
            // 做一些异步操作
            setTimeout(function () {
                console.log("执行完成");
                // 把成功的内容传给  resolve, 以便在下面 then 的 fulfilled 时输出内容
                resolve("随便什么数据");
            }, 2000)
        });
    }

    // runAsync();
    runAsync().then(function (data) {
        console.log(data);
    });


    // ------ 仿写最基本的回调函数 ------
    /*function fnRunAsync(callback) {
        setTimeout(function () {
            console.log("执行1111");
            callback("回调执行222");
        }, 200)
    }
    fnRunAsync(function (data) {
        // 参数 data fnRunAsync内调用回到函数时传入的参数
        console.log(data);
        console.log("回调函数内的输出");
    })*/
    // ------ 仿写最基本的回调函数 ------

    let oObj = {
        run() {
            console.log(this);
        }
    };
    oObj.run();

    function run() {
        console.log(this);
    }

    run();
    run.apply(oObj);

</script>
</body>
</html>