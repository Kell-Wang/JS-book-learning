# 《重学前端》- Winter 

## 生词 (New Words)

## 笔记内容 (Content)

> 微任务, 宏任务 与 Event-loop
- JS 一个单线程的脚本语言, 在一行代码的执行过程中, 必然不会存在同时执行另一行代码的,
  但如果全部代码都是同步执行, 就会引发很严重的问题, 于是就有了 异步事件的概念, 例如
  注册一个回调函数, 发一个网络请求...等, 然后在异步完成之后, 会通知到程序(主线程?),
  等程序空闲下来就去看那些异步已经完成, 有完成就执行. 


> Q: 为什么要设计 微任务(micro task), 我知道这样 JS 引擎就可以自主第执行任务,
  但这样的好处是什么? 提高性能?  
  [JS 引擎中的异步是-微任务(Micro Task). 宿主环境提供的异步是-宏任务(Marco Task)]
- A: 不是, 微任务是 JS 引擎内部的一种机制, 如果不涉及微任务, 那么 JS 引擎中就
  完全没有异步了, 所以必须要设计微任务.


> Q: 怎么确定微任务属于一个宏任务呢，JavaScript主线程跑下来，遇到 setTimeout 会放到
  异步队列宏任务中，那下面遇到的 promise 怎么判断出它是属于这个宏任务呢？
- A: resolve 在哪个宏任务中调用，对应的then里的微任务就属于哪个宏任务。宏任务没有从
  异步队列中取出，中间所碰到的所有微任务都属于这个宏任务。


> Q: import 进来的引用为什么可以获取到最新的值, 是类似于 getter 的机制吗?
- A: 这个地方略微有些复杂, 我们在运行时并没有将 import 的运行机制, 这里涉及到一个
  叫做 ImportEntry Record 的机制, 它比 getter 的实现更底层.


> Q: "词法环境" 和 "词法作用域" 的概念是什么?
- A: 词法环境是运行时概念, 词法作用域是语言概念. 就是说, 作用域指的是变量生效的那段代码
  , 而词法环境是指运行起来之后, 你这段代码访问的存储变量的内存块.


> Q: 页面资源的预加载是不是可以用 link 标签实现, 还有其他的方法吗?
- A: 预加载的方法有很多, 还可以用 JS 代码预加载, 甚至用本地存储缓存.          