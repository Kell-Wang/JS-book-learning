<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>3.1.3 闭包的更多作用</title>
</head>
<body>
<script type="text/javascript">

    // 1.封装变量

    let cache = {};
    // multiply
    let mult = function () {

        // 数组 join()方法：只接收一个参数，即用作分隔符的字符串，然后返回包含所有数组项的字符串。
        // 把参数转换成一个字符串: 比如现在 args = "1,2,3"
        let args = Array.prototype.join.call(arguments, ",");
        // 当第二次调用时 cache 下面已经保存了 { "1,2,3": 6 }
        if (cache[args]) {
            console.log(typeof args === "string");    // true
            console.log(args);    // 1,2,3
            console.log(cache[args]);   // 6
            return cache[args];
        }

        let a = 1;
        for (let i = 0, l = arguments.length; i < l; i++) {
            a = a * arguments[i];
        }

        return cache[args] = a;
    };

    console.log(mult(1, 2, 3));
    console.log(mult(1, 2, 3));

</script>
</body>
</html>