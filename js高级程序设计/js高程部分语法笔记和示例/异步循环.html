<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script type="text/javascript">


    // var arr = new Array(999);
    var arr = ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12"];

    function asyncForEach(array, handler) {
        var t = setInterval(function () {
            if (array.length === 0) {
                clearInterval(t);
            } else {
                console.log("shift移除的值为 " + arr.shift());
                // 这里的 arr.shift() 就是在调用 handler() 时传入的一个参数，但是是一个自执行的参数
                handler(arr.shift());
            }
        }, 0);
    }

    // 异步遍历
    asyncForEach(arr, function (value) {
        // 这句代码在上面函数 handler(arr.shift()) 执行之后才会执行
        console.log(value);
    });


</script>
</body>
</html>